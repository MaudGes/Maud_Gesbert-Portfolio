{% extends "base.html" %}
{% block title %}Aloe Vera{% endblock %}
{% block content %}

<h1>Analyse des ventes</h1>

<!-- Collapsible: Description -->
<div class="collapsible-block">
  <h3 class="collapsible-toggle" onclick="toggleSection('description-section', this)">
    <span class="collapsible-title">Description</span>
    <span class="arrow-icon">▼</span>
  </h3>
  <div id="description-section" class="collapsible-content">
    <p>
      Analyse réalisée pour une jeune entreprise qui vend des produits à base d'Aloe Vera.<br>
      Le gérant de l'entreprise m'a fourni plusiuers fichiers excel : un contenant les ventes, un autre recensant les vendeurs,
      et enfin, un fichier recensant les clients (des pharmacies).<br>
      En recoupant les différents fichiers, j'ai pu fournir une analyse des ventes en fonctions des vendeurs et des clients, 
      tout en mettant en valeur les périodes de l'années auxquelles les ventes étaient les meilleurs.<br><br>
      <strong>NB :</strong> Les données sur les clients et les vendeurs sont anonymisées. Tous les noms ont été changés.<br>
      Pour respecter la demande du gérant de ne pas divulguer trop d'information, je ne montrerai qu'un extrait des analyses effectuées.
    </p>
  </div>
</div>

<!-- Collapsible: PDF -->
<div class="collapsible-block">
  <h3 class="collapsible-toggle" onclick="toggleSection('pdf-section', this)">
    <span class="collapsible-title">Étapes de création du modèle</span>
    <span class="arrow-icon">▼</span>
  </h3>
  <div id="pdf-section" class="collapsible-content">
    <div class="mt-4" style="height:600px; overflow:auto;">
      <object
        data="{{ url_for('static', filename='images/Maladie_Cardiaque_PPT.pdf') }}"
        type="application/pdf"
        width="100%"
        height="100%">
        <p>Si le navigateur ne supporte pas les PDF :
          <a href="{{ url_for('static', filename='images/Maladie_Cardiaque_PPT.pdf') }}">Télécharger le PDF</a>
        </p>
      </object>
    </div>
  </div>
</div>

<br><a href="/" class="btn">Retour à l'accueil</a>

<script>

// Toggle sections with animation
  function toggleSection(id, headerElement) {
    const section = document.getElementById(id);
    const arrow = headerElement.querySelector('.arrow-icon');
    
    const isOpen = section.style.display === "block" || section.style.display === "";

    if (isOpen) {
      section.style.display = "none";
      arrow.classList.remove("rotated");
    } else {
      section.style.display = "block";
      arrow.classList.add("rotated");
    }
  }

  // Open all collapsible sections by default on page load
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".collapsible-content").forEach(section => {
      section.style.display = "block";
    });

    document.querySelectorAll(".arrow-icon").forEach(icon => {
      icon.classList.add("rotated");
    });
  });
</script>

{% endblock %}